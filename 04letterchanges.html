<!DOCTYPE html>
<html>
<head>
<style>
</style>
<title></title>
<meta charset='UTF-8' />
</head>
<body>
<script>

/*

1. var str turns all letters to lowercase
2. var i loop goes through each letter of the string, then var ii loop goes through 
each letter of variable abc and matches the letter
3. the next letter of the matched variable is found and is pushed into array arr
4. the second if statement checks if there is not a letter, then returns that non-letter as is
5. the final for loop var j finds every vowel and changes it to uppercase
6. the array arr is joined together into a string

*/


function abcShift(str) {
str = str.toLowerCase();
var abc = 'abcdefghijklmnopqrstuvwxyza';
abc = abc.split('');
arr = [];

    for (var i = 0; i < str.length; i++) {
        
        for (var ii = 0; ii < abc.length; ii++) {
            
            if (str.substr(i,1) === abc[ii]) {
                arr.push(abc[ii + 1]);
                break;
            }
            
            if (str.substr(i,1).search(/[a-z]/) == -1) {
                arr.push(str.substr(i,1));
                break;
            }
        }
    }   
    
for (var j = 0; j < arr.length; j++) {
    if (arr[j].search(/[aeiou]/) > -1) {
       arr[j] = arr[j].toUpperCase();
    }
}
    
return arr.join('');
}

document.write(abcShift('dOcument WRite here'));
document.write('<br>');
document.write(abcShift('cats in the 3bag'));
document.write('<br>');
document.write(abcShift('lets be friends'));
document.write('<br>');

</script>
</body>
</html>